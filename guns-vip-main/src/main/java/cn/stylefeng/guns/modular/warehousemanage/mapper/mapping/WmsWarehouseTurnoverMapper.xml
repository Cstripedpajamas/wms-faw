<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.stylefeng.guns.modular.warehousemanage.mapper.WmsWarehouseTurnoverMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="cn.stylefeng.guns.modular.warehousemanage.entity.WmsWarehouseTurnover">
        <id column="id" property="id" />
        <result column="turnover_number" property="turnoverNumber" />
        <result column="turnover_type" property="turnoverType" />
        <result column="barcode" property="barcode" />
        <result column="storage_status" property="storageStatus" />
        <result column="loca_row" property="locaRow" />
        <result column="loca_col" property="locaCol" />
        <result column="loca_layer" property="locaLayer" />
        <result column="turnover_state" property="turnoverState" />
        <result column="turnover_mouth_quantity" property="turnoverMouthQuantity" />
        <result column="aff_warehouse" property="affWarehouse" />
        <result column="data_state" property="dataState" />
        <result column="create_time" property="createTime" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id AS "id", turnover_number AS "turnoverNumber", turnover_type AS "turnoverType", barcode AS "barcode", storage_status AS "storageStatus", loca_row AS "locaRow", loca_col AS "locaCol", loca_layer AS "locaLayer", turnover_state AS "turnoverState", turnover_mouth_quantity AS "turnoverMouthQuantity",aff_warehouse AS "affWarehouse", data_state AS "dataState", create_time AS "createTime"
    </sql>

    <select id="customList" resultType="cn.stylefeng.guns.modular.warehousemanage.model.result.WmsWarehouseTurnoverResult" parameterType="cn.stylefeng.guns.modular.warehousemanage.model.params.WmsWarehouseTurnoverParam">
        select
        <include refid="Base_Column_List"/>
        from wms_warehouse_turnover where 1 = 1
            <if test="paramCondition.id != null and paramCondition.id != ''">
                and id like CONCAT('%',#{paramCondition.id},'%')
            </if>
            <if test="paramCondition.turnoverNumber != null and paramCondition.turnoverNumber != ''">
                and turnover_number like CONCAT('%',#{paramCondition.turnoverNumber},'%')
            </if>
            <if test="paramCondition.turnoverType != null and paramCondition.turnoverType != ''">
                and turnover_type like CONCAT('%',#{paramCondition.turnoverType},'%')
            </if>
            <if test="paramCondition.barcode != null and paramCondition.barcode != ''">
                and barcode like CONCAT('%',#{paramCondition.barcode},'%')
            </if>
            <if test="paramCondition.storageStatus != null and paramCondition.storageStatus != ''">
                and storage_status like CONCAT('%',#{paramCondition.storageStatus},'%')
            </if>
            <if test="paramCondition.locaRow != null and paramCondition.locaRow != ''">
                and loca_row like CONCAT('%',#{paramCondition.locaRow},'%')
            </if>
            <if test="paramCondition.locaCol != null and paramCondition.locaCol != ''">
                and loca_col like CONCAT('%',#{paramCondition.locaCol},'%')
            </if>
            <if test="paramCondition.locaLayer != null and paramCondition.locaLayer != ''">
                and loca_layer like CONCAT('%',#{paramCondition.locaLayer},'%')
            </if>
            <if test="paramCondition.turnoverState != null and paramCondition.turnoverState != ''">
                and turnover_state like CONCAT('%',#{paramCondition.turnoverState},'%')
            </if>
            <if test="paramCondition.dataState != null and paramCondition.dataState != ''">
                and data_state like CONCAT('%',#{paramCondition.dataState},'%')
            </if>
            <if test="paramCondition.createTime != null and paramCondition.createTime != ''">
                and create_time like CONCAT('%',#{paramCondition.createTime},'%')
            </if>
    </select>

    <select id="customMapList" resultType="map" parameterType="cn.stylefeng.guns.modular.warehousemanage.model.params.WmsWarehouseTurnoverParam">
        select
        <include refid="Base_Column_List"/>
        from wms_warehouse_turnover where 1 = 1
            <if test="paramCondition.id != null and paramCondition.id != ''">
                and id like CONCAT('%',#{paramCondition.id},'%')
            </if>
            <if test="paramCondition.turnoverNumber != null and paramCondition.turnoverNumber != ''">
                and turnover_number like CONCAT('%',#{paramCondition.turnoverNumber},'%')
            </if>
            <if test="paramCondition.turnoverType != null and paramCondition.turnoverType != ''">
                and turnover_type like CONCAT('%',#{paramCondition.turnoverType},'%')
            </if>
            <if test="paramCondition.barcode != null and paramCondition.barcode != ''">
                and barcode like CONCAT('%',#{paramCondition.barcode},'%')
            </if>
            <if test="paramCondition.storageStatus != null and paramCondition.storageStatus != ''">
                and storage_status like CONCAT('%',#{paramCondition.storageStatus},'%')
            </if>
            <if test="paramCondition.locaRow != null and paramCondition.locaRow != ''">
                and loca_row like CONCAT('%',#{paramCondition.locaRow},'%')
            </if>
            <if test="paramCondition.locaCol != null and paramCondition.locaCol != ''">
                and loca_col like CONCAT('%',#{paramCondition.locaCol},'%')
            </if>
            <if test="paramCondition.locaLayer != null and paramCondition.locaLayer != ''">
                and loca_layer like CONCAT('%',#{paramCondition.locaLayer},'%')
            </if>
            <if test="paramCondition.turnoverState != null and paramCondition.turnoverState != ''">
                and turnover_state like CONCAT('%',#{paramCondition.turnoverState},'%')
            </if>
            <if test="paramCondition.dataState != null and paramCondition.dataState != ''">
                and data_state like CONCAT('%',#{paramCondition.dataState},'%')
            </if>
            <if test="paramCondition.createTime != null and paramCondition.createTime != ''">
                and create_time like CONCAT('%',#{paramCondition.createTime},'%')
            </if>
    </select>

    <select id="customPageList" resultType="cn.stylefeng.guns.modular.warehousemanage.model.result.WmsWarehouseTurnoverResult" parameterType="cn.stylefeng.guns.modular.warehousemanage.model.params.WmsWarehouseTurnoverParam">
        select
        <include refid="Base_Column_List"/>
        from wms_warehouse_turnover where 1 = 1
            <if test="paramCondition.id != null and paramCondition.id != ''">
                and id like CONCAT('%',#{paramCondition.id},'%')
            </if>
            <if test="paramCondition.turnoverNumber != null and paramCondition.turnoverNumber != ''">
                and turnover_number like CONCAT('%',#{paramCondition.turnoverNumber},'%')
            </if>
            <if test="paramCondition.turnoverType != null and paramCondition.turnoverType != ''">
                and turnover_type like CONCAT('%',#{paramCondition.turnoverType},'%')
            </if>
            <if test="paramCondition.barcode != null and paramCondition.barcode != ''">
                and barcode like CONCAT('%',#{paramCondition.barcode},'%')
            </if>
            <if test="paramCondition.storageStatus != null and paramCondition.storageStatus != ''">
                and storage_status like CONCAT('%',#{paramCondition.storageStatus},'%')
            </if>
            <if test="paramCondition.locaRow != null and paramCondition.locaRow != ''">
                and loca_row like CONCAT('%',#{paramCondition.locaRow},'%')
            </if>
            <if test="paramCondition.locaCol != null and paramCondition.locaCol != ''">
                and loca_col like CONCAT('%',#{paramCondition.locaCol},'%')
            </if>
            <if test="paramCondition.locaLayer != null and paramCondition.locaLayer != ''">
                and loca_layer like CONCAT('%',#{paramCondition.locaLayer},'%')
            </if>
            <if test="paramCondition.turnoverState != null and paramCondition.turnoverState != ''">
                and turnover_state like CONCAT('%',#{paramCondition.turnoverState},'%')
            </if>
            <if test="paramCondition.affWarehouse != null and paramCondition.affWarehouse != ''">
            and aff_warehouse like CONCAT('%',#{paramCondition.affWarehouse},'%')
            </if>
            <if test="paramCondition.dataState != null and paramCondition.dataState != ''">
                and data_state like CONCAT('%',#{paramCondition.dataState},'%')
            </if>
            <if test="paramCondition.createTime != null and paramCondition.createTime != ''">
                and create_time like CONCAT('%',#{paramCondition.createTime},'%')
            </if>
    </select>

    <select id="customPageMapList" resultType="map" parameterType="cn.stylefeng.guns.modular.warehousemanage.model.params.WmsWarehouseTurnoverParam">
        select
        <include refid="Base_Column_List"/>
        from wms_warehouse_turnover where 1 = 1
            <if test="paramCondition.id != null and paramCondition.id != ''">
                and id like CONCAT('%',#{paramCondition.id},'%')
            </if>
            <if test="paramCondition.turnoverNumber != null and paramCondition.turnoverNumber != ''">
                and turnover_number like CONCAT('%',#{paramCondition.turnoverNumber},'%')
            </if>
            <if test="paramCondition.turnoverType != null and paramCondition.turnoverType != ''">
                and turnover_type like CONCAT('%',#{paramCondition.turnoverType},'%')
            </if>
            <if test="paramCondition.barcode != null and paramCondition.barcode != ''">
                and barcode like CONCAT('%',#{paramCondition.barcode},'%')
            </if>
            <if test="paramCondition.storageStatus != null and paramCondition.storageStatus != ''">
                and storage_status like CONCAT('%',#{paramCondition.storageStatus},'%')
            </if>
            <if test="paramCondition.locaRow != null and paramCondition.locaRow != ''">
                and loca_row like CONCAT('%',#{paramCondition.locaRow},'%')
            </if>
            <if test="paramCondition.locaCol != null and paramCondition.locaCol != ''">
                and loca_col like CONCAT('%',#{paramCondition.locaCol},'%')
            </if>
            <if test="paramCondition.locaLayer != null and paramCondition.locaLayer != ''">
                and loca_layer like CONCAT('%',#{paramCondition.locaLayer},'%')
            </if>
            <if test="paramCondition.turnoverState != null and paramCondition.turnoverState != ''">
                and turnover_state like CONCAT('%',#{paramCondition.turnoverState},'%')
            </if>
            <if test="paramCondition.dataState != null and paramCondition.dataState != ''">
                and data_state like CONCAT('%',#{paramCondition.dataState},'%')
            </if>
            <if test="paramCondition.createTime != null and paramCondition.createTime != ''">
                and create_time like CONCAT('%',#{paramCondition.createTime},'%')
            </if>
    </select>

    <select id="findByTurnoverNumber" parameterType="string" resultType="cn.stylefeng.guns.modular.warehousemanage.model.result.WmsWarehouseTurnoverResult">
        select
        <include refid="Base_Column_List"/>
        from
        wms_warehouse_turnover where turnover_number = #{code}
    </select>

    <select id="updateLatticeNumber" parameterType="string">
        update wms_warehouse_turnover set  turnover_mouth_quantity = #{number} where id = #{turnoverId}
    </select>
    <select id="findById" parameterType="string" resultType="cn.stylefeng.guns.modular.warehousemanage.model.result.WmsWarehouseTurnoverResult">
        select
        <include refid="Base_Column_List"/>
        from
        wms_warehouse_turnover where id = #{turnoverId}
    </select>

    <select id="findByBarCode" resultType="cn.stylefeng.guns.modular.warehousemanage.model.result.WmsWarehouseTurnoverResult" parameterType="string">
        select
        <include refid="Base_Column_List"/>
        from
        wms_warehouse_turnover where 1=1 and barcode = #{barCode}
    </select>

    <select id="findEmptyType" parameterType="string" resultType="cn.stylefeng.guns.modular.warehousemanage.entity.WmsWarehouseTurnover">
        select
        <include refid="Base_Column_List"/>
        from
        wms_warehouse_turnover  where 1=1 and storage_status = '1' and turnover_state = '0' and turnover_type = #{turnoverType}
    </select>

</mapper>
