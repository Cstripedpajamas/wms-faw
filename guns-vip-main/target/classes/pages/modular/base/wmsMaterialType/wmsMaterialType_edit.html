@layout("/common/_form.html",{js:["/assets/modular/base/wmsMaterialType/wmsMaterialType_edit.js"]}){

<script>
    function uploadImage(data){
        var formData = new FormData();
        var fileInput = document.getElementById("materialImageFile");
        formData.append("imageFile", fileInput.files[0]);
        var hiddenIdInput=document.querySelector('input[name="id"]');
        formData.append("id", hiddenIdInput.value);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", Feng.ctxPath + "/wmsMaterialType/upload", true);
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4 && xhr.status === 200) {
                document.getElementById("response").innerHTML = xhr.responseText;
            }
        };
        xhr.send(formData);
    }
</script>
<form class="layui-form" id="wmsMaterialTypeForm" lay-filter="wmsMaterialTypeForm">
    <div class="layui-fluid" style="padding-bottom: 75px;">
        <div class="layui-card">
            <div class="layui-card-header">基本信息</div>
            <div class="layui-card-body">
                <div class="layui-form-item layui-row">
                    <input name="id" type="hidden"/>
<!--                    <div class="layui-inline layui-col-md12">-->
<!--                        <label class="layui-form-label">类型</label>-->
<!--                        <div class="layui-input-block">-->
<!--                            <input type="radio" name="type" lay-filter="typeFilter" value="1" title="非消耗品工具" checked/>-->
<!--                            <input type="radio" name="type" lay-filter="typeFilter" value="2" title="消耗品工具"/>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="layui-inline layui-col-md12">-->
<!--                        <label class="layui-form-label">物料类型</label>-->
<!--                        <div class="layui-input-block">-->
<!--&lt;!&ndash;                            <input id="materialType" name="materialType" placeholder="请输入物料类型" type="text"&ndash;&gt;-->
<!--&lt;!&ndash;                                   class="layui-input" lay-verify="required" required/>&ndash;&gt;-->
<!--&lt;!&ndash;                            <select id="materialType" name="materialType" lay-search>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="">请选择物料类型</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="GJ">工具</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="BJ">备件</option>&ndash;&gt;-->
<!--&lt;!&ndash;                            </select>&ndash;&gt;-->
<!--                            <input id="materialType" name="materialType" placeholder="请输入物料类型" type="text"-->
<!--                                   class="layui-input"/>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="layui-inline layui-col-md12">-->
<!--                        <label class="layui-form-label">描述</label>-->
<!--                        <div class="layui-input-block">-->
<!--                            <input id="materialName" name="materialName" placeholder="请输入描述" type="text"-->
<!--                                   class="layui-input" />-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="layui-inline layui-col-md12">-->
<!--                        <label class="layui-form-label">物料号</label>-->
<!--                        <div class="layui-input-block">-->
<!--                            <input id="materialSku" name="materialSku" placeholder="请输入物料号" type="text"-->
<!--                                   class="layui-input" />-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="layui-inline layui-col-md12">-->
<!--                        <label class="layui-form-label">基本计量单位</label>-->
<!--                        <div class="layui-input-block">-->
<!--                            <input id="mUnit" name="mUnit" placeholder="请输入基本计量单位" type="text" class="layui-input"-->
<!--                                   />-->
<!--                        </div>-->
<!--                    </div>-->
                    <div class="layui-inline layui-col-md12" id="latticeMouthTypeDiv">
                        <label class="layui-form-label">智能柜柜口类型</label>
                        <div class="layui-input-block">
                            <select id="latticeMouthType" name="latticeMouthType" >
                                <option value="">请选择柜口类型</option>
                                @for(item in latticeTypeResultList){
                                <option value="${item.id}">${item.typeName}</option>
                                @}
                            </select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">分拣类型</label>
                        <div class="layui-input-block">
                            <input type="radio" name="sortType" lay-filter="typeFilter2" value="0" title="人工" />
                            <input type="radio" name="sortType" lay-filter="typeFilter2" value="1" title="自动" checked/>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">周转箱类型</label>
                        <div class="layui-input-block">
                            <select id="turnoverType" name="turnoverType" >
                                <option value="">请选择周转箱类型</option>
                                <option value="0">小箱(400*300mm)</option>
                                <option value="1">中箱(400*600mm)</option>
                                <option value="2">大箱(600*800mm)</option>
                            </select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12" id="turnoverLatticeDiv">
                        <label class="layui-form-label">周转箱格口类型</label>
                        <div class="layui-input-block">
                            <select id="turnoverLatticeType" name="turnoverLatticeType" >
                                <option value="">请选择周转箱类型</option>
                                <option value="0">单格口</option>
                                <option value="1">多格口</option>
                            </select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12" id="labelDIV">
                        <label class="layui-form-label">RFID标志</label>
                        <div class="layui-input-block">
                            <select id="label" name="label">
                                <option value="">请选择RFID标志</option>
                                <option value="0">是</option>
                                <option value="1">否</option>
                            </select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12" id="materialImage">
                        <label class="layui-form-label">图片</label>
                        <div class="layui-input-block">
                            <input type="file" id="materialImageFile" name="materialImageFile" accept="image/*">
                            <button class="layui-btn layui-btn-normal layui-btn-xs"  type="button" onclick="uploadImage()">上传</button>
                        </div>
                        <div id="response"></div>
                    </div>


                    <div class="layui-inline layui-col-md12" id="packageTypeDiv">
                        <label class="layui-form-label">包装类型</label>
                        <div class="layui-input-block">
                            <select id="packageType" name="packageType" >
                                <option value="">请选择包装类型</option>
                                @for(item in wmsPackInfoResultList){
                                <option value="${item.id}">${item.packgeName}</option>
                                @}
                            </select>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12" id="packageNumberDiv">
                        <label class="layui-form-label">包装数量</label>
                        <div class="layui-input-block">
                            <input id="packageNumber" name="packageNumber" placeholder="请输入包装数量" type="text" class="layui-input"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group-bottom text-center">
        <button class="layui-btn" lay-filter="btnSubmit" lay-submit>&emsp;提交&emsp;</button>
        <button type="reset" class="layui-btn layui-btn-primary" ew-event="closeDialog">&emsp;取消&emsp;</button>
    </div>

</form>

@}